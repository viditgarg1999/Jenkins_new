pipeline{
agent any
stages 
{
	stage('Build') 
	{
		steps{
		echo "Building the Code.........."
		
	}
	}
	stage('Test') 
	{
		steps{
		echo "Testing the Code.........."
	}
	}
	stage('Compile') 
	{
		steps{
		echo "Compiling the Project.........."
	
	}
	}
	stage('Deploy') 
	{
		steps{
		echo "Deploying the Project.........."
		}
	}
	
	stage('save log build') {
		steps {
		logFilename=${JENKINS_HOME}/${JOB_URL:${#JENKINS_URL}}
		logFilename=${logFilename//job\//jobs\/}builds/${BUILD_NUMBER}/log

		grep "**Failure**" ${logFilename} ; exitCode=$?
		[[ $exitCode -ne 1 ]] && exit 1
	}
	}
	
	
	
	
}
}
