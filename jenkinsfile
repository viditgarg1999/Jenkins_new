pipeline{
agent any
stages 
{
	stage('Build') 
	{
		steps{
		echo "Building the Code.........."
		
	}
	}
	stage('Test') 
	{
		steps{
		echo "Testing the Code.........."
	}
	}
	stage('Compile') 
	{
		steps{
		echo "Compiling the Project.........."
	
	}
	}
	stage('Deploy') 
	{
		steps{
		echo "Deploying the Project.........."
		}
	}
	
	stage('save log build') {
		steps{
			if(build.workspace.isRemote())
			{
			    channel = build.workspace.channel;
			    fp = new FilePath(channel, build.workspace.toString() + "/node_details.txt")
			} else {
			    fp = new FilePath(new File(build.workspace.toString() + "/node_details.txt"))
			}

			if(fp != null)
			{
			    fp.write("test data", null); //writing to file
			} 
		
		}
	}
	
	
	
	
}
}
